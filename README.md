# 程序题目：基于领域特定语言的客服机器人设计与实现

这是我们程序设计实验大作业

我们将分步进行，下属每个章节将完成一个任务，总共四个章节

1. 定义领域特定脚本语言（DSL）的语法：根据客服机器人自动应答逻辑的要求，设计语言的关键词、语法规则、表达式组织和控制结构等。
2. 实现解释器：根据你定义的语法规则，编写一个解释器程序，能够解析并执行DSL脚本。解释器应能处理用户输入的脚本，按照脚本描述的逻辑给出相应的应答。
3. 编写几个脚本范例：根据不同的应答逻辑，编写几个脚本范例，包括不同的场景和交互情境。这些脚本范例应包含DSL语言的语法和语义的示例，以便测试和演示解释器的行为表现。
4. 测试和演示：用编写的脚本范例测试解释器的功能和正确性。检查解释器是否能正确解析和执行DSL语言的脚本，并根据逻辑要求给出正确的应答。可以使用命令行界面或其他形式的输入输出进行测试和演示。

## 1. DSL语法定义

客服机器人DSL将包含以下关键字：`BEGIN`, `END`, `MATCH`, `RESPONSE`和`UNKNOWN`. 此外，我们还会添加支持简单条件判断的`CASE`, `DEFAULT`关键字。这将使得我们的脚本具有更高的灵活度。

- `BEGIN`和`END`用于定义一个块的开始和结束。
- `MATCH`用于匹配用户输入的特定模式。
- `RESPONSE`关键字后跟随机器人对匹配到的输入的响应。
- `UNKNOWN`提供了在没有匹配到任何输入时的默认回复。
- `CASE`和`DEFAULT`关键字用来组成一个判断结构，用于一个match之后，`CASE`后面跟随判断条件和对应的应答，`DEFAULT`后面跟随默认的应答，每个case之后可以通过begin和match的组合完成match的嵌套。

下面是一个脚本的示例：

```
BEGIN
  MATCH "我需要帮助"
  RESPONSE "当然，我很乐意帮助你。你遇到什么问题了呢？"

  MATCH "我的订单状态是什么"
  RESPONSE "让我为你查询。请你提供下订单号。"

  CASE "我的订单号是12345"
    BEGIN
      MATCH "我想改变配送地址"
      RESPONSE "好的，你想更改为哪个地址？"
      CASE "我想改为100号大街"
      RESPONSE "你的配送地址已经更改为100号大街。"
      DEFAULT
      RESPONSE "对不起，这个地址我们无法配送。"
    END

  DEFAULT
  RESPONSE "对不起，我无法查询到你提供的订单信息，请检查订单号是否正确。"

  MATCH "我无法登录我的账户"
  RESPONSE "抱歉给您带来不便。你是否忘记了密码，或被告知你的账户被冻结了?"

  UNKNOWN
  RESPONSE "抱歉，我不明白你的问题。能否请你再详细描述一下？"
END
```



## 2.实现解释器

我想用rust实现，rust的模式匹配特性或许更方便实现这种格式

程序框架设计如下

````
.
├── Cargo.lock 								//记录依赖包元数据，cargo自动维护
├── Cargo.toml								//cargo项目管理脚本，维护项目信息和依赖包
├── README.md									//项目简介，也是实验过程记录
├── src							//项目源码
│   ├── command.rs						//DSL中的所有指令定义与操作
│   ├── main.rs								//程序入口，处理用户输入和读取文件，程序逻辑实现
│   ├── parse.rs							//解析用户脚本
│   └── script.rs							//用户脚本
└── tests						//测试
    ├── integration_test.rs		//单元测试
    └── unit_test.rs					//集成测试
````



## 3.脚本范例编写

## 4.测试和演示



